import axios from 'axios';

let handler = async (m, { conn, usedPrefix, command }) => {
    try {
        // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø·
        let response = await axios.get('https://gist.githubusercontent.com/YosefZoro1/41e80f742a04cbac0b82c838a2f9570d/raw/2d76480d96fc9c90254ae431f2ce005947f9afbb/edit.json');
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù†Ø¬Ø§Ø­ Ø§Ù„Ø·Ù„Ø¨
        if (response.status !== 200) {
            throw new Error(`Failed to fetch data. Status code: ${response.status}`);
        }

        let data = response.data;

        // Ø§Ø®ØªÙŠØ§Ø± ÙÙŠØ¯ÙŠÙˆ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ±Ø¯Ø©
        let videoUrl = data[Math.floor(Math.random() * data.length)];

        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©
        conn.sendFile(m.chat, videoUrl, 'error.mp4', 'ğ‘¬ğ‘«ğ‘°ğ‘» ğ‘©ğ’€ ğ’ğ‘¶ğ‘¹ğ‘¶ âš¡', m);
    } catch (error) {
        console.error(error);
        conn.reply(m.chat, 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªÙ†ÙÙŠØ° Ø§Ù„Ø£Ù…Ø±. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„Ø§Ø­Ù‚Ù‹Ø§.', m);
    }
};

handler.help = ['Z O R O'];
handler.tags = ['Z O R O'];
handler.command = /^(Ø§ÙŠØ¯ÙŠØª)$/i;

export default handler;
