import translate from '@vitalets/google-translate-api';
import fetch from 'node-fetch';
const handler = async (m, {conn, command}) => {
  if (command === 'ุงูุตุญูู') {
    const consejo = consejos[Math.floor(Math.random() * consejos.length)];
    const mensaje = `โญโโโโโโโโโโโโโโโโโฎ\n\nโโ๐ *ูุตูุญุฉ ุงูููู* ๐\n\nโฅ ${consejo}\n\nโฐโโโโโโโโโโโโโโโโโฏ`;
    await m.reply(mensaje);
  }

  if (command === 'ุฑููุงูุณู') {
    const frase_romantica = frasesromanticas[Math.floor(Math.random() * frasesromanticas.length)];
    const mensaje = `โญโโโโโโโโโโโโโโโโโฎ\n\nโโ๐ *ุฌููุฉ ุฑููุงูุณูุฉ* ๐\n\nโฅ ${frase_romantica}\n\nโฐโโโโโโโโโโโโโโโโโฏ`;
    await m.reply(mensaje);
  }

  if (command == 'ุฑููุงูุณูู') {
    try {
      const cerpe = await cerpen(`cinta romantis`);
      const storytime = await translate(cerpe.cerita, {to: 'ar', autoCorrect: true}).catch((_) => null);
      const titletime = await translate(cerpe.title, {to: 'ar', autoCorrect: true}).catch((_) => null);
      conn.reply(m.chat, `แญฅ๐ซแญข ุงูุนููุงู: ${titletime.text}
แญฅ๐แญข ุงููุงุชุจ: ${cerpe.author}
โโโโโโโโโโโโโโโโ
${storytime.text}`, m);
    } catch {
      const err = await fetch(`https://api.lolhuman.xyz/api/openai?apikey=${lolkeysapi}&text=Elabora%20una%20historia%20romantica%20que%20use%20el%20siguiente%20formato:%20%E1%AD%A5%F0%9F%AB%90%E1%AD%A2%20T%C3%ADtulo:%20%E1%AD%A5%F0%9F%8D%83%E1%AD%A2%20Autor:%20%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%20hsitoria...%20adalah&user=user-unique-id`);
      const json = await err.json();
      const fraseChat = json.result;
      conn.reply(m.chat, fraseChat, m);
    }
  }
};
handler.tags = ['Z O R O'];
handler.command = handler.help = ['ุฑููุงูุณู', 'ุฑููุงูุณูู', 'ุงูุตุญูู'];
export default handler;

async function cerpen(category) {
  return new Promise((resolve, reject) => {
    const title = category.toLowerCase().replace(/[()*]/g, '');
    const judul = title.replace(/\s/g, '-');
    const page = Math.floor(Math.random() * 5);
    axios.get('http://cerpenmu.com/category/cerpen-'+judul+'/page/'+page)
        .then((get) => {
          const $ = cheerio.load(get.data);
          const link = [];
          $('article.post').each(function(a, b) {
            link.push($(b).find('a').attr('href'));
          });
          const random = link[Math.floor(Math.random() * link.length)];
          axios.get(random).then((res) => {
            const $$ = cheerio.load(res.data);
            const hasil = {
              title: $$('#content > article > h1').text(),
              author: $$('#content > article').text().split('Cerpen Karangan: ')[1].split('Kategori: ')[0],
              kategori: $$('#content > article').text().split('Kategori: ')[1].split('\n')[0],
              lolos: $$('#content > article').text().split('Lolos moderasi pada: ')[1].split('\n')[0],
              cerita: $$('#content > article > p').text(),
            };
            resolve(hasil);
          });
        });
  });
}

global.frasesromanticas = [
  'ุฃูุช ุงูููุฑ ุงูุฐู ูุถูุก ุญูุงุชู ูู ุงูุธูุงู.',
  'ูุนูุ ูู ููู ูู ูุบุงูุฑุฉ ุฌุฏูุฏุฉ ูููุฆุฉ ุจุงูุญุจ.',
  'ุนููุงู ููุง ุงูุนูุงุณ ุงูุณูุงุก ุงูุชู ุฃุฑุบุจ ูู ุงูุถูุงุน ูููุง.',
  'ูู ูุจุถุฉ ูู ููุจู ุชุญูู ุงุณูู.',
  'ูู ุฃุญุถุงูู ูุฌุฏุช ุงููุทู ุงูุฐู ููุช ุฏุงุฆููุง ุฃุจุญุซ ุนูู.',
  'ุฃูุช ุงูุญูู ุงูุฐู ูุง ุฃุฑุบุจ ุฃุจุฏูุง ูู ุงูุงุณุชููุงุธ ููู.',
  'ุงูุญุจ ุงูุญูููู ูู ุฃู ูููู ูุนูุง ูู ุงูุณุฑุงุก ูุงูุถุฑุงุก.',
  'ูุง ุชูุฌุฏ ูุณุงูุงุช ุนูุฏูุง ูููู ููุงู ููุจุงู ูุชุญุฏุงู.',
  'ูุจูุงุชู ูู ุงููุญู ุงูุฐู ูุณุฑุน ููุจู.',
  'ุงูุญุจ ูู ุฑุคูุฉ ููู ูุง ูุง ูุฑุงู ุฃุญุฏ ุขุฎุฑ.',
  'ูู ูู ูุจุถุฉุ ุฃุญููู ูุนู ุฅูู ูู ููุงู.',
  'ุงูุญุจ ุงูุฐู ุฃุดุนุฑ ุจู ุชุฌุงูู ูู ููุชู ูุฅููุงูู.',
  'ูููุงุชู ุงูุญููุฉ ูู ุทุนุงูู ุงูุนุงุทูู ุงููููู.',
  'ุฃูุช ุงููุฏูุฉ ุงูุฃุบูู ุงูุชู ููุญุชูู ุฅูุงูุง ุงูุญูุงุฉ.',
  'ูุชููู ุงูููุช ุนูุฏูุง ุฃููู ุจุฌุงูุจู.',
  'ูู ุงุจุชุณุงูุชู ุฃุฌุฏ ุงูุณุนุงุฏุฉ ุงูุชู ููุช ุฃุจุญุซ ุนููุง.',
  'ูู ููู ุจุฌุงูุจู ูู ูุตุฉ ุญุจ ูุง ููุงูุฉ ููุง.',
  'ุญุจูุง ูุญูุงูุฉ ุฎูุงููุฉ ุชุชุญูู.',
  'ุฃุญุถุงูู ูู ูุฃูุงู ูู ูุฐุง ุงูุนุงูู ุงูููุถูู.',
  'ุฃูุช ุงูุณุจุจ ูู ุฅููุงูู ุจุงููุฏุฑ.',
  'ุงูุญุจ ูู ุงูุชุดุงู ุดูุก ุฌุฏูุฏ ูููููุง ุฃุนุฌุจ ุจู ููู.',
  'ุญุจู ูู ุงูููุญุฉ ุงูุจูุถุงุก ุงูุชู ุฃุฑุณู ุนูููุง ุณุนุงุฏุชู.',
  'ูุนูุ ุงููุณุชูุจู ูู ุทุฑูู ูููุก ุจุงููุนูุฏ ูุงูุฃุญูุงู.',
  'ุฃูุช ุงูููุงุฑุฉ ุงูุชู ุชุฑุดุฏ ููุจู ูู ุงูุธูุงู.',
  'ุณุญุฑ ุงูุญุจ ูููู ูู ูู ูุญุธุฉ ูุดุชุฑู ูููุง.',
  'ุญุจูุง ูู ุฑูุต ุฃุจุฏู ูู ุงูุนุงุทูุฉ ูุงูุฑูุฉ.',
  'ูู ุฃุญุถุงููุ ูุฎุชูู ุงูุนุงูู ููุจูู ุฃูุช ูุฃูุง ููุท.',
  'ุงูุญุจ ูู ุงููุบุฉ ุงูุชู ุชุชุญุฏุซ ุจูุง ูููุจูุง.',
  'ุฃูุช ุงูุฌุฒุก ุงูุฐู ูุงู ูููุตูู ูุงุณุชููุงู ุฑูุญู.',
  'ุงูุญุจ ูู ุงูุนุซูุฑ ุนููู ูุฌุฏุช ููู ูู ูุง ูู ุฃูู ุฃุนุฑู ุฃููู ุฃุญุชุงุฌู.',
];

global.consejos = [
  'ุงูุจู ุฃู ุงูุชุบููุฑุงุช ูู ุฌุฒุก ุทุจูุนู ูู ุงูุญูุงุฉุ ูุชุนูู ููููุฉ ุงูุชููู ูุนูุง.',
  'ูุง ุชุชููู ุฃุจุฏูุง ุนู ุงูุชุนููุ ุงูุนูู ูู ุฃุฏุงุฉ ูููุฉ.',
  'ุงุนุชูู ุจุตุญุชู ุงูุฌุณุฏูุฉ ูุงูุนูููุฉุ ููู ุฃุณุงุณูุฉ ูุญูุงุฉ ููุชููุฉ.',
  'ุชูุชุน ุจุงูุฃุดูุงุก ุงูุตุบูุฑุฉุ ููู ูู ุงูุชู ุชุนุทู ูุนูู ููุญูุงุฉ.',
  'ุชุนูู ููู ุชุณุงูุญุ ุณูุงุก ูุน ุงูุขุฎุฑูู ุฃู ูุน ููุณูุ ูุชุญุฑูุฑ ููุจู.',
  'ูุฏูุฑ ุงูููุช ุงูุฐู ุชูุถูู ูุน ุฃุญุจุงุฆูุ ููู ุฃุบูู ูุฏูุฉ ููููู ุฅุนุทุงุคูุง ูุงุณุชูุงููุง.',
  'ูู ูุทูููุง ููุชุนุงุทููุง ูุน ุงูุขุฎุฑููุ ููู ูุนู ุตุบูุฑ ูู ุงููุทู ูููู ุฃู ูุญุฏุซ ูุงุฑููุง ูู ุญูุงุชูู.',
  'ุชุนูู ููู ุชููู "ูุง" ุนูุฏ ุงูุถุฑูุฑุฉุ ููุถุน ุญุฏูุฏ ุตุญูุฉ.',
  'ุงุจุญุซ ุนู ููุช ููููุงู ุจูุง ุชุดุบูู ุจู ูุชุญุจูุ ูุฐูู ูุบุฐู ุฑูุญู ููุฌุนูู ุชุดุนุฑ ุจุงูุญูุงุฉ.',
  'ูุง ุชูุงุฑู ููุณู ุจุงูุขุฎุฑููุ ููู ุดุฎุต ูุฏูู ุทุฑููู ูุฅููุงุนู ุงูุฎุงุต ูู ุงูุญูุงุฉ.',
  'ุงุณูุน ุดุฑูู ุญูุงุชู ุจุชููู ูุชุนุงุทูุ ูุงูุชูุงุตู ุฃุณุงุณ ุงูุนูุงูุฉ ุงููููุฉ.',
  'ูุง ุชุฎู ูู ุงูุชุนุจูุฑ ุนู ูุดุงุนุฑูุ ูุงูุตุฏู ุฃูุฑ ุฃุณุงุณู ูู ุงูุญุจ.',
  'ุชุนูู ููู ุชุชูุงุฒู ูุชุชูุงููุ ูุงูุญุจ ูุญุชุงุฌ ุฅูู ุชุถุญูุฉ ูุฌูุฏ ูุชุจุงุฏู.',
  'ูุงุฌุฆ ุดุฑูู ุญูุงุชู ูู ุญูู ูุขุฎุฑุ ูุงุญุชูุธ ุจุดุฑุงุฑุฉ ุงูุฑููุงูุณูุฉ.',
  'ุงุญุชุฑู ูุฑุงุฏู ุดุฑูู ุญูุงุชู ูุงุชุฑู ูู ุงููุฌุงู ููููู ูุดุฎุต.',
  'ุญุจ ุงูุฐุงุช ููู ููุบุงูุฉ ูุซู ุญุจ ุดุฎุต ุขุฎุฑุ ุงุนุชูู ุจููุณู ููุฏุฑ ููุณู.',
  'ุชุฐูุฑ ุฃู ุงูุนูุงูุฉ ุงูุณูููุฉ ุชููู ุนูู ุงูุซูุฉ ุงููุชุจุงุฏูุฉ ูุงูุงุญุชุฑุงู.',
  'ุงุฎุชุฑ ุดุฎุตูุง ูููููู ููุฌุนูู ูุณุฎุฉ ุฃูุถู ูู ููุณู.',
  'ุงูุญุจ ุงูุญูููู ูุง ูุฌุนูู ุชุดุนุฑ ุจุงูููููุ ุจู ูุฒูุฏ ูู ุดุนูุฑู ุจุงููุซูุฑ.',
  'ุงูุญุจ ูุนูุ ูู ุงุฎุชูุงุฑ ูููู ูููู ูุน ุงูุฃูุนุงู ูุงููููุงุช.',
  'ุงุจุญุซ ุนู ูุธููุฉ ุชุดุบููุ ููู ุชุดุนุฑ ุจุฃูู ุชุนูู ููููุง ูู ุญูุงุชู.',
  'ูู ูุงุนูุงู ูุชุฎุฐ ุงูุฅุฌุฑุงุกุงุช ุงููุงุฒูุฉ ูู ุนูููุ ุณูุชู ุชูุฏูุฑ ุฐูู ูู ูุจู ุฑุคุณุงุฆู.',
  'ุชุนูู ูู ุฃุฎุทุงุฆู ููุดููุ ููู ูุฑุต ููููู ูุงูุชุญุณูู.',
  'ุญุงูุธ ุนูู ูููู ุฅูุฌุงุจู ูุงุจุญุซ ุนู ุญููู ุฃูุงู ุงูุชุญุฏูุงุช ุงููุธูููุฉ.',
  'ุจูุงุก ุนูุงูุงุช ุฌูุฏุฉ ูุน ุฒููุงุฆูุ ูุงูุนูู ุงูุฌูุงุนู ูู ููุชุงุญ ุงููุฌุงุญ.',
  'ุญุฏุฏ ุฃูุฏุงููุง ูุงูุนูุฉ ููุงุถุญุฉุ ูุงุนูู ุจุชุตููู ูุชุญููููุง.',
  'ูุง ุชุฎุฌู ูู ุทูุจ ุงููุณุงุนุฏุฉ ุฃู ุงูุจุญุซ ุนู ุชูุฌููุ ุฏุงุฆููุง ููุงู ุดูุก ุฌุฏูุฏ ูุชุนููู.',
  'ุงุนุชุฑู ุจุฅูุฌุงุฒุงุชู ููุฏุฑูุงุ ุงุญุชูู ุจูุฌุงุญุงุชู ูููุง ูุงูุช ุตุบูุฑุฉ.',
  'ุงุจุญุซ ุนู ุชูุงุฒู ุจูู ุญูุงุชู ุงูููููุฉ ูุงูุดุฎุตูุฉุ ูููุชุงููุง ูุงูุชุงู.',
  'ุงูุนูู ุฌุฒุก ูุงู ูู ุญูุงุชูุ ููููู ููุณ ุงูุดูุก ุงููุญูุฏ ุงูุฐู ูุญุฏุฏ ูู ุฃูุช.',
  'ุขูู ุจููุณู ูุจูุฏุฑุชู ุนูู ุชุญููู ูุง ุชุณุนู ุฅููู.',
  'ุชุตููุฑ ุฃูุฏุงูู ูุฃุญูุงููุ ุชุฎูู ููู ุณุชุดุนุฑ ุนูุฏ ุชุญููููุง.',
  'ุงุจุญุซ ุนู ุฅููุงู ูู ุฃููุฆู ุงูุฐูู ุชุบูุจูุง ุนูู ุนูุจุงุช ููุงุซูุฉ ูุชูู ุงูุชู ุชูุงุฌููุง.',
  'ุงูุจู ุงููุดู ูุฌุฒุก ูู ุงูุนูููุฉุ ุฅููุง ูุฑุต ููุชุนูู ูุงูููู.',
  'ุงุญุชูุธ ุจุดุฑูุฉ ุงูุฃุดุฎุงุต ุงูุฅูุฌุงุจููู ูุงูุฐูู ูุฏุนูููู ููุฃูุงู.',
  'ุญุงูุธ ุนูู ุนูููุฉ ููุชูุญุฉ ูุงุณุชุนุฏ ูุชุนูู ุฃุดูุงุก ุฌุฏูุฏุฉ.',
  'ุชุฐูุฑ ููุงุฐุง ุจุฏุฃุช ุนูุฏูุง ุชุดุนุฑ ุจุงูุงูุฎุฑุงุทุ ุฃุนุฏ ุงูุงุชุตุงู ุจุบุฑุถู.',
  'ูุณูู ุฃูุฏุงูู ุฅูู ุฎุทูุงุช ุตุบูุฑุฉุ ูุฐูู ุณูุฌุนู ุงูุทุฑูู ุฃูุซุฑ ุฅููุงููุฉ ูุฃูู ุฅุฑูุงููุง.',
  'ูุง ุชุฎู ูู ูุชุงุจุนุฉ ุฃุญูุงููุ ุงูุญูุงุฉ ูุตูุฑุฉ ุฌุฏุง ูุชุนูุด ุจุฏูู ุฃู ูุฏู.',
  'ุซู ุจุฃูู ุจุงูุฌูุฏ ูุงููุซุงุจุฑุฉุ ููููู ุชุญููู ูู ูุง ุชุทูุญ ุฅููู.',
];
